@model JobPortal.Application.ViewModels.ApplicationVm.NewApplicationViewModel
@using Microsoft.Web.Helpers

@{
    ViewData["Title"] = "Aplikuj";
}

<div class="container py-5">
    <h1 class="text-center mb-4">@ViewData["Title"]</h1>

    @using (Html.BeginForm("Apply", "Job", FormMethod.Post, new { enctype = "multipart/form-data", @class = "card border-0 shadow p-4" }))
    {
        <div style="display:none">
            @Html.EditorFor(model => model.Id, new { htmlAttributes = new { @class = "form-control" } });
            @Html.EditorFor(model => model.UserId, new { htmlAttributes = new { @class = "form-control", @Value = Model.UserId } });
            @Html.EditorFor(model => model.JobId, new { htmlAttributes = new { @class = "form-control", @Value = Model.JobId } });
        </div>

        <div class="form-group">
            @Html.LabelFor(m => m.CV, new { @class = "form-label" })
            @Html.TextBoxFor(m => m.CV, new { type = "file", @class = "form-control" })
            @Html.ValidationMessageFor(m => m.CV, "", new { @class = "text-danger" })
        </div>

        <input type="submit" value="Wyślij" class="btn btn-primary" />
    }
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
